{"ast":null,"code":"import _classCallCheck from\"/Users/desireebradish/around-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/desireebradish/around-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._baseUrl=baseUrl;this._headers=headers;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){return res.ok?res.json():Promise.reject(\"Error!\"+res.statusText);}//GET https://around.nomoreparties.co/v1/groupId/users/me\n},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(this._baseUrl+\"/cards\",{headers:this._headers}).then(this._checkResponse).catch(function(err){return console.log(err);});}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(this._baseUrl+\"/users/me\",{headers:this._headers}).then(this._checkResponse).catch(function(err){return console.log(err);});}},{key:\"getAllInfo\",value:function getAllInfo(){return Promise.all([this.getUserInfo(),this.getInitialCards()]);}//PATCH https://around.nomoreparties.co/v1/groupId/users/me\n},{key:\"setUserInfo\",value:function setUserInfo(_ref2){var name=_ref2.name,about=_ref2.about;return fetch(this._baseUrl+\"/users/me\",{method:\"PATCH\",headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(this._checkResponse).catch(function(err){return console.log(err);});}//POST https://around.nomoreparties.co/v1/groupId/cards\n},{key:\"addCard\",value:function addCard(_ref3){var name=_ref3.name,link=_ref3.link;return fetch(this._baseUrl+\"/cards\",{method:\"POST\",headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(this._checkResponse).catch(function(err){return console.log(err);});}},{key:\"removeCard\",value:function removeCard(cardId){//fetch cards + cardid\nreturn fetch(this._baseUrl+\"/cards/\"+cardId,{method:\"DELETE\",headers:this._headers}).then(this._checkResponse).catch(function(err){return console.log(err);});}//PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n},{key:\"setAvatar\",value:function setAvatar(_ref4){var avatar=_ref4.avatar;return fetch(this._baseUrl+\"/users/me/avatar\",{method:\"PATCH\",headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(this._checkResponse).catch(function(err){return console.log(\"Error! \"+err);});}// PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n// DELETE https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,like){//PUT AND DELETE\nvar whichMethod=like?\"DELETE\":\"PUT\";return fetch(this._baseUrl+\"/cards/likes/\"+cardId,{method:whichMethod,headers:this._headers}).then(this._checkResponse).catch(function(err){return console.log(err);});}}]);return Api;}();var api=new Api({baseUrl:\"https://around.nomoreparties.co/v1/group-8\",headers:{authorization:\"d687320c-42a6-463a-9f18-8c281b207460\",\"Content-Type\":\"application/json\"}});export default api;","map":{"version":3,"sources":["/Users/desireebradish/around-react/src/utils/api.js"],"names":["Api","baseUrl","headers","_baseUrl","_headers","res","ok","json","Promise","reject","statusText","fetch","then","_checkResponse","catch","err","console","log","all","getUserInfo","getInitialCards","name","about","method","body","JSON","stringify","link","cardId","avatar","like","whichMethod","api","authorization"],"mappings":"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","sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n  _checkResponse(res) {\n    return res.ok ? res.json() : Promise.reject(\"Error!\" + res.statusText);\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n      .catch((err) => console.log(err));\n  }\n  _checkResponse(res) {\n    return res.ok ? res.json() : Promise.reject(\"Error!\" + res.statusText);\n  }\n\n  //GET https://around.nomoreparties.co/v1/groupId/users/me\n  getUserInfo() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n      .catch((err) => console.log(err));\n  }\n  getAllInfo() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\n  }\n\n  //PATCH https://around.nomoreparties.co/v1/groupId/users/me\n  setUserInfo({ name, about }) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    })\n      .then(this._checkResponse)\n      .catch((err) => console.log(err));\n  }\n  //POST https://around.nomoreparties.co/v1/groupId/cards\n  addCard({ name, link }) {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    })\n      .then(this._checkResponse)\n      .catch((err) => console.log(err));\n  }\n  removeCard(cardId) {\n    //fetch cards + cardid\n    return fetch(this._baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n      .catch((err) => console.log(err));\n  }\n  //PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n  setAvatar({ avatar }) {\n    return fetch(this._baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar,\n      }),\n    })\n      .then(this._checkResponse)\n      .catch((err) => console.log(\"Error! \" + err));\n  }\n  // PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n  // DELETE https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n  changeLikeCardStatus(cardId, like) {\n    //PUT AND DELETE\n    const whichMethod = like ? \"DELETE\" : \"PUT\";\n    return fetch(this._baseUrl + \"/cards/likes/\" + cardId, {\n      method: whichMethod,\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n      .catch((err) => console.log(err));\n  }\n}\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-8\",\n  headers: {\n    authorization: \"d687320c-42a6-463a-9f18-8c281b207460\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}