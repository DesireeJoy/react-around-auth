{"ast":null,"code":"class Api {\n  constructor({\n    baseUrl,\n    headers\n  }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResponse(res) {\n    return res.ok ? res.json() : Promise.reject(\"Error!\" + res.statusText);\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      headers: this._headers\n    }).then(this._checkResponse).catch(err => console.log(err));\n  }\n\n  _checkResponse(res) {\n    return res.ok ? res.json() : Promise.reject(\"Error!\" + res.statusText);\n  } //GET https://around.nomoreparties.co/v1/groupId/users/me\n\n\n  getUserInfo() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      headers: this._headers\n    }).then(this._checkResponse).catch(err => console.log(err));\n  }\n\n  getAllInfo() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\n  } //PATCH https://around.nomoreparties.co/v1/groupId/users/me\n\n\n  setUserInfo({\n    name,\n    about\n  }) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(this._checkResponse).catch(err => console.log(err));\n  } //POST https://around.nomoreparties.co/v1/groupId/cards\n\n\n  addCard({\n    name,\n    link\n  }) {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link\n      })\n    }).then(this._checkResponse).catch(err => console.log(err));\n  }\n\n  removeCard(cardId) {\n    //fetch cards + cardid\n    return fetch(this._baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkResponse).catch(err => console.log(err));\n  } //PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n\n\n  setAvatar({\n    avatar\n  }) {\n    return fetch(this._baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(this._checkResponse).catch(err => console.log(\"Error! \" + err));\n  } // PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n  // DELETE https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n\n\n  changeLikeCardStatus(cardId, like) {\n    //PUT AND DELETE\n    const whichMethod = like ? \"DELETE\" : \"PUT\";\n    return fetch(this._baseUrl + \"/cards/likes/\" + cardId, {\n      method: whichMethod,\n      headers: this._headers\n    }).then(console.log(whichMethod), this._checkResponse).catch(err => console.log(err));\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-8\",\n  headers: {\n    authorization: \"d687320c-42a6-463a-9f18-8c281b207460\",\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default api;","map":{"version":3,"sources":["/Users/desireebradish/around-react/src/utils/api.js"],"names":["Api","constructor","baseUrl","headers","_baseUrl","_headers","_checkResponse","res","ok","json","Promise","reject","statusText","getInitialCards","fetch","then","catch","err","console","log","getUserInfo","getAllInfo","all","setUserInfo","name","about","method","body","JSON","stringify","addCard","link","removeCard","cardId","setAvatar","avatar","changeLikeCardStatus","like","whichMethod","api","authorization"],"mappings":"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","sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n  _checkResponse(res) {\n    return res.ok ? res.json() : Promise.reject(\"Error!\" + res.statusText);\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n      .catch((err) => console.log(err));\n  }\n  _checkResponse(res) {\n    return res.ok ? res.json() : Promise.reject(\"Error!\" + res.statusText);\n  }\n\n  //GET https://around.nomoreparties.co/v1/groupId/users/me\n  getUserInfo() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n      .catch((err) => console.log(err));\n  }\n  getAllInfo() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\n  }\n\n  //PATCH https://around.nomoreparties.co/v1/groupId/users/me\n  setUserInfo({ name, about }) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    })\n      .then(this._checkResponse)\n      .catch((err) => console.log(err));\n  }\n  //POST https://around.nomoreparties.co/v1/groupId/cards\n  addCard({ name, link }) {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    })\n      .then(this._checkResponse)\n      .catch((err) => console.log(err));\n  }\n  removeCard(cardId) {\n    //fetch cards + cardid\n    return fetch(this._baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n      .catch((err) => console.log(err));\n  }\n  //PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n  setAvatar({ avatar }) {\n    return fetch(this._baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar,\n      }),\n    })\n      .then(this._checkResponse)\n      .catch((err) => console.log(\"Error! \" + err));\n  }\n  // PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n  // DELETE https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n  changeLikeCardStatus(cardId, like) {\n    //PUT AND DELETE\n    const whichMethod = like ? \"DELETE\" : \"PUT\";\n    return fetch(this._baseUrl + \"/cards/likes/\" + cardId, {\n      method: whichMethod,\n      headers: this._headers,\n    })\n      .then(console.log(whichMethod), this._checkResponse)\n      .catch((err) => console.log(err));\n  }\n}\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-8\",\n  headers: {\n    authorization: \"d687320c-42a6-463a-9f18-8c281b207460\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}