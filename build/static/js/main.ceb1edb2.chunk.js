(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(3),c=a.n(s),i=(a(11),a(2)),l=a.p+"static/media/Logo.4e8e0a1d.svg",o=a(0);var u=function(e){return Object(o.jsx)("header",{className:"header",children:Object(o.jsx)("img",{id:"logo-img",alt:"Around the US Logo",src:l,className:"header__logo"})})},d=a(5),p=a(6),h=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(d.a)(this,e),this._baseUrl=a,this._headers=n}return Object(p.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Error!"+e.statusText)}},{key:"getInitialCards",value:function(){return fetch(this._baseUrl+"/cards",{headers:this._headers}).then(this._checkResponse).catch((function(e){return console.log(e)}))}},{key:"getUserInfo",value:function(){return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then(this._checkResponse).catch((function(e){return console.log(e)}))}},{key:"getAllInfo",value:function(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}},{key:"setUserInfo",value:function(e){var t=e.name,a=e.about;return fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:a})}).then(this._checkResponse).catch((function(e){return console.log(e)}))}},{key:"addCard",value:function(e){var t=e.name,a=e.link;return fetch(this._baseUrl+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:a})}).then(this._checkResponse).catch((function(e){return console.log(e)}))}},{key:"removeCard",value:function(e){return fetch(this._baseUrl+"/cards/"+e,{method:"DELETE",headers:this._headers}).then(this._checkResponse).catch((function(e){return console.log(e)}))}},{key:"setAvatar",value:function(e){var t=e.avatar;return fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse).catch((function(e){return console.log("Error! "+e)}))}},{key:"changeLikeCardStatus",value:function(e,t){var a=t?"DELETE":"PUT";return fetch(this._baseUrl+"/cards/likes/"+e,{method:a,headers:this._headers}).then(this._checkResponse).catch((function(e){return console.log(e)}))}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-8",headers:{authorization:"d687320c-42a6-463a-9f18-8c281b207460","Content-Type":"application/json"}});var _=function(e){return Object(o.jsxs)("li",{className:"grid__card",children:[Object(o.jsx)("button",{className:"grid__btn_del button",type:"button","aria-label":"delete",onClick:function(){e.handleDeleteClick(e.card)}}),Object(o.jsx)("button",{className:"grid__btn_popup",type:"button","aria-label":"view image",onClick:function(){e.handleCardClick(e.card)},children:Object(o.jsx)("img",{className:"grid__image",src:e.src,alt:e.title})}),Object(o.jsxs)("div",{className:"grid__card-text",children:[Object(o.jsx)("h2",{className:"grid__caption",children:e.title}),Object(o.jsxs)("div",{className:"grid__likes",children:[Object(o.jsx)("button",{className:"grid__heart button",type:"button","aria-label":"like",onClick:e.likeCardClick}),Object(o.jsx)("p",{className:"grid__like-count",children:e.likes.length})]})]})]})};var b=function(e){var t=r.a.useState(""),a=Object(i.a)(t,2),s=a[0],c=a[1],l=r.a.useState(""),u=Object(i.a)(l,2),d=u[0],p=u[1],b=r.a.useState(""),m=Object(i.a)(b,2),j=m[0],f=m[1],O=r.a.useState([]),x=Object(i.a)(O,2),v=x[0],g=x[1];return Object(n.useEffect)((function(){h.getUserInfo().then((function(e){c(e.name),p(e.about),f(e.avatar)})).catch((function(e){return console.log(e)}))}),[]),r.a.useEffect((function(){h.getInitialCards().then((function(e){g(e)})).catch((function(e){return console.log(e)}))}),[]),Object(o.jsxs)("main",{className:"content",children:[Object(o.jsxs)("section",{className:"profile",children:[Object(o.jsxs)("form",{className:"profile__info-area",children:[Object(o.jsx)("button",{className:"profile__avatar-edit","aria-label":"edit-avatar",type:"button",onClick:e.handleEditAvatarClick}),Object(o.jsx)("img",{id:"avatar Image",alt:"Avatar Image for User",className:"profile__avatar",src:j}),Object(o.jsxs)("div",{className:"profile__info",children:[Object(o.jsx)("h1",{className:"profile__name",children:s}),Object(o.jsx)("p",{className:"profile__title",children:d})]}),Object(o.jsx)("button",{className:"profile__editbtn button","aria-label":"Edit",type:"button",name:"edit_btn",onClick:e.handleEditProfileClick})]}),Object(o.jsx)("button",{"aria-label":"add",className:"profile__addbtn button",type:"button",name:"add_btn",onClick:e.handleAddPlaceClick})]}),Object(o.jsx)("section",{className:"grid",children:Object(o.jsx)("ul",{className:"grid__list",children:v.map((function(t){return Object(o.jsx)(_,{card:t,_id:t._id,src:t.link,title:t.name,likes:t.likes,owner:t.owner,handleCardClick:function(){e.handleCardClick(t)},handleDeleteClick:function(t){e.handleDeleteClick(t)},handleCardLike:function(t){e.handleCardLike(t)}},t._id)}))})})]})};var m=function(e){return Object(o.jsx)("footer",{className:"footer",children:Object(o.jsx)("p",{children:"\xa9 2020 Around The U.S."})})};var j=function(e){return Object(o.jsx)("div",{className:"popup ".concat(e.isOpen?"popup_visible":""),children:Object(o.jsx)("div",{className:"popup__form",children:Object(o.jsxs)("form",{className:"popup__".concat(e.name,"_form-selector form"),noValidate:!0,onSubmit:e.onSubmit,children:[Object(o.jsx)("h3",{className:"popup__card_heading",children:e.title}),e.children,Object(o.jsx)("button",{type:"submit",className:"form__submit popup__submit ",value:"Save",disabled:"",children:e.buttonText}),Object(o.jsx)("button",{type:"button",className:"popup__close button","aria-label":"close",onClick:e.onClose})]})})})};var f=function(e){return Object(o.jsx)("div",{className:"popup__image popup ".concat(e.isOpen?"popup_visible":""),children:Object(o.jsxs)("div",{className:"popup__image_cont",children:[Object(o.jsxs)("div",{className:"popup__image_wrap",children:[Object(o.jsx)("img",{className:"grid__image_active",src:e.selectedCard.link,alt:e.selectedCard.name}),Object(o.jsx)("button",{type:"button",className:"popup__close button","aria-label":"close",onClick:e.onClose})]}),Object(o.jsx)("div",{className:"popup__image_capt",children:e.selectedCard.name})]})})};var O=function(){var e=r.a.useState(!1),t=Object(i.a)(e,2),a=t[0],s=t[1],c=r.a.useState(!1),l=Object(i.a)(c,2),d=l[0],p=l[1],h=r.a.useState(!1),_=Object(i.a)(h,2),O=_[0],x=_[1],v=r.a.useState(!1),g=Object(i.a)(v,2),k=g[0],N=g[1],C=Object(n.useState)(!1),y=Object(i.a)(C,2),S=y[0],T=y[1],P=r.a.useState({}),E=Object(i.a)(P,2),U=E[0],L=E[1];function I(){x(!1),p(!1),s(!1),N(!1),T(!1)}return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"body",children:Object(o.jsxs)("div",{className:"page",children:[Object(o.jsx)(u,{}),Object(o.jsx)(b,{handleEditAvatarClick:function(e){e.preventDefault(),s(!0)},handleEditProfileClick:function(e){e.preventDefault(),p(!0)},handleAddPlaceClick:function(e){e.preventDefault(),x(!0)},handleDeleteClick:function(e){N(!0)},handleCardClick:function(e){T(!0),L(e)}}),Object(o.jsx)(f,{onClose:I,selectedCard:U,isOpen:S}),Object(o.jsx)(j,{isOpen:k,onClose:I,name:"profile",title:"Are you sure?",buttonText:"Yes"}),Object(o.jsxs)(j,{isOpen:a,onClose:I,name:"avatar",title:"Change Profile Picture",buttonText:"Save",children:[Object(o.jsx)("input",{className:"form_input popup__input form__input_type_avatar-link",id:"avatar-input",type:"url",name:"link",placeholder:"avatar",required:!0}),Object(o.jsx)("span",{className:"popup__form_input_type_error avatar-input-error error",name:"inputFile-error"})]}),Object(o.jsxs)(j,{isOpen:O,onClose:I,name:"card",title:"New Place",buttonText:"Save",children:[Object(o.jsx)("input",{type:"text",className:"popup__card_input form_input",id:"inputPlace",name:"placeName",placeholder:"Title",defaultValue:!0,minLength:2,maxLength:30}),Object(o.jsx)("span",{className:"popup__form_input_type_active inputPlace-error error",name:"inputPlace-error"}),Object(o.jsx)("input",{type:"url",className:"popup__card_input form_input",id:"inputFile",name:"placeFileName",placeholder:"Image link"}),Object(o.jsx)("span",{className:"popup__form_input_type_active inputFile-error error",name:"inputFile-error"})]}),Object(o.jsxs)(j,{isOpen:d,onClose:I,name:"profile",title:"Edit Profile",buttonText:"Save",children:[Object(o.jsx)("input",{type:"text",className:"popup__input form_input",id:"inputName",defaultValue:"Jacques Cousteau",name:"profileName",minLength:2,maxLength:40,required:!0}),Object(o.jsx)("span",{className:"popup__form_input_type_active inputName-error error",name:"inputName-error"}),Object(o.jsx)("input",{type:"text",className:"popup__input form_input",id:"inputTitle",defaultValue:"Explorer",name:"profileTitle",minLength:2,maxLength:200,required:!0}),Object(o.jsx)("span",{className:"popup__form_input_type_active inputTitle-error error",name:"inputTitle-error"})]}),Object(o.jsx)(m,{})]})})})},x=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,14)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};c.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(O,{})}),document.getElementById("root")),x()}},[[13,1,2]]]);
//# sourceMappingURL=main.ceb1edb2.chunk.js.map